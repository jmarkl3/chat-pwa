(()=>{var e={302:(e,t,n)=>{e.exports=n(944)},312:(e,t,n)=>{"use strict";let r;n.d(t,{Ay:()=>R,Qy:()=>A}),e=n.hmd(e);const o=new Array(128).fill(void 0);function i(e){return o[e]}o.push(void 0,null,!0,!1);let a=o.length;function _(e){const t=i(e);return function(e){e<132||(o[e]=a,a=e)}(e),t}function u(e){return void 0===e||null===e}let c=null;let s=null;function f(){return null!==s&&0!==s.byteLength||(s=new Int32Array(r.memory.buffer)),s}let b=0,g=null;function d(){return null!==g&&0!==g.byteLength||(g=new Uint8Array(r.memory.buffer)),g}const w="undefined"!==typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},l="function"===typeof w.encodeInto?function(e,t){return w.encodeInto(e,t)}:function(e,t){const n=w.encode(e);return t.set(n),{read:e.length,written:n.length}};function p(e,t,n){if(void 0===n){const n=w.encode(e),r=t(n.length,1)>>>0;return d().subarray(r,r+n.length).set(n),b=n.length,r}let r=e.length,o=t(r,1)>>>0;const i=d();let a=0;for(;a<r;a++){const t=e.charCodeAt(a);if(t>127)break;i[o+a]=t}if(a!==r){0!==a&&(e=e.slice(a)),o=n(o,r,r=a+3*e.length,1)>>>0;const t=d().subarray(o+a,o+r);a+=l(e,t).written}return b=a,o}function h(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=h(e[0]));for(let r=1;r<t;r++)n+=", "+h(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(o){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}const m="undefined"!==typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function y(e,t){return e>>>=0,m.decode(d().subarray(e,e+t))}function x(e){a===o.length&&o.push(o.length+1);const t=a;return a=o[t],o[t]=e,t}function v(e,t,n,o){const i={a:e,b:t,cnt:1,dtor:n},a=function(){i.cnt++;const e=i.a;i.a=0;try{for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return o(e,i.b,...n)}finally{0===--i.cnt?r.__wbindgen_export_2.get(i.dtor)(e,i.b):i.a=e}};return a.original=i,a}function S(e,t,n){r.__wbindgen_export_3(e,t,x(n))}function E(e,t){const n=t(1*e.length,1)>>>0;return d().set(e,n/1),b=e.length,n}function T(e,t){try{return e.apply(this,t)}catch(n){r.__wbindgen_export_5(x(n))}}"undefined"!==typeof TextDecoder&&m.decode();let B=null;function I(){return null!==B&&0!==B.byteLength||(B=new Uint32Array(r.memory.buffer)),B}function k(e,t){return e>>>=0,I().subarray(e/4,e/4+t)}Object.freeze({Transcribe:0,0:"Transcribe",Translate:1,1:"Translate"});class P{static __wrap(e){e>>>=0;const t=Object.create(P.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_session_free(e)}run(e,t){const n=E(e,r.__wbindgen_export_0),o=b;return _(r.session_run(this.__wbg_ptr,n,o,x(t)))}stream(e,t,n,o){const i=E(e,r.__wbindgen_export_0),a=b;return _(r.session_stream(this.__wbg_ptr,i,a,t,x(n),x(o)))}}class A{static __wrap(e){e>>>=0;const t=Object.create(A.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_sessionbuilder_free(e)}constructor(){const e=r.sessionbuilder_new();return this.__wbg_ptr=e>>>0,this}setTokenizer(e){const t=this.__destroy_into_raw(),n=E(e,r.__wbindgen_export_0),o=b,i=r.sessionbuilder_setTokenizer(t,n,o);return A.__wrap(i)}setModel(e){const t=this.__destroy_into_raw(),n=E(e,r.__wbindgen_export_0),o=b,i=r.sessionbuilder_setModel(t,n,o);return A.__wrap(i)}build(){const e=this.__destroy_into_raw();return _(r.sessionbuilder_build(e))}}class D{static __wrap(e){e>>>=0;const t=Object.create(D.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_sessionerror_free(e)}static new(e){const t=p(e,r.__wbindgen_export_0,r.__wbindgen_export_1),n=b,o=r.sessionerror_new(t,n);return D.__wrap(o)}toString(){let e,t;try{const i=r.__wbindgen_add_to_stack_pointer(-16);r.sessionerror_toString(i,this.__wbg_ptr);var n=f()[i/4+0],o=f()[i/4+1];return e=n,t=o,y(n,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_export_4(e,t,1)}}}function O(){const t={wbg:{}};return t.wbg.__wbindgen_is_object=function(e){const t=i(e);return"object"===typeof t&&null!==t},t.wbg.__wbg_getwithrefkey_15c62c2b8546208d=function(e,t){return x(i(e)[i(t)])},t.wbg.__wbindgen_is_undefined=function(e){return void 0===i(e)},t.wbg.__wbindgen_in=function(e,t){return i(e)in i(t)},t.wbg.__wbindgen_object_drop_ref=function(e){_(e)},t.wbg.__wbindgen_is_string=function(e){return"string"===typeof i(e)},t.wbg.__wbg_entries_6d727b73ee02b7ce=function(e){return x(Object.entries(i(e)))},t.wbg.__wbg_length_cace2e0b3ddc0502=function(e){return i(e).length},t.wbg.__wbg_get_4a9aa5157afeb382=function(e,t){return x(i(e)[t>>>0])},t.wbg.__wbindgen_jsval_loose_eq=function(e,t){return i(e)==i(t)},t.wbg.__wbindgen_number_get=function(e,t){const n=i(t),o="number"===typeof n?n:void 0;(null!==c&&0!==c.byteLength||(c=new Float64Array(r.memory.buffer)),c)[e/8+1]=u(o)?0:o,f()[e/4+0]=!u(o)},t.wbg.__wbindgen_string_get=function(e,t){const n=i(t),o="string"===typeof n?n:void 0;var a=u(o)?0:p(o,r.__wbindgen_export_0,r.__wbindgen_export_1),_=b;f()[e/4+1]=_,f()[e/4+0]=a},t.wbg.__wbindgen_boolean_get=function(e){const t=i(e);return"boolean"===typeof t?t?1:0:2},t.wbg.__wbg_Window_7bd5d737b6110ed5=function(e){return x(i(e).Window)},t.wbg.__wbg_WorkerGlobalScope_10e1fa12a09a520b=function(e){return x(i(e).WorkerGlobalScope)},t.wbg.__wbg_navigator_7c9103698acde322=function(e){return x(i(e).navigator)},t.wbg.__wbg_gpu_24536c9523d924b1=function(e){return x(i(e).gpu)},t.wbg.__wbg_navigator_41bd88b80ed4685e=function(e){return x(i(e).navigator)},t.wbg.__wbg_gpu_1678673f109c8aeb=function(e){return x(i(e).gpu)},t.wbg.__wbg_session_new=function(e){return x(P.__wrap(e))},t.wbg.__wbg_call_53fc3abd42e24ec8=function(){return T((function(e,t,n){return x(i(e).call(i(t),i(n)))}),arguments)},t.wbg.__wbg_sessionerror_new=function(e){return x(D.__wrap(e))},t.wbg.__wbg_String_91fba7ded13ba54c=function(e,t){const n=p(String(i(t)),r.__wbindgen_export_0,r.__wbindgen_export_1),o=b;f()[e/4+1]=o,f()[e/4+0]=n},t.wbg.__wbindgen_debug_string=function(e,t){const n=p(h(i(t)),r.__wbindgen_export_0,r.__wbindgen_export_1),o=b;f()[e/4+1]=o,f()[e/4+0]=n},t.wbg.__wbg_isArray_38525be7442aa21e=function(e){return Array.isArray(i(e))},t.wbg.__wbg_isSafeInteger_c38b0a16d0c7cef7=function(e){return Number.isSafeInteger(i(e))},t.wbg.__wbg_iterator_7ee1a391d310f8e4=function(){return x(Symbol.iterator)},t.wbg.__wbg_get_2aff440840bb6202=function(){return T((function(e,t){return x(Reflect.get(i(e),i(t)))}),arguments)},t.wbg.__wbindgen_is_function=function(e){return"function"===typeof i(e)},t.wbg.__wbg_call_669127b9d730c650=function(){return T((function(e,t){return x(i(e).call(i(t)))}),arguments)},t.wbg.__wbg_next_15da6a3df9290720=function(e){return x(i(e).next)},t.wbg.__wbg_next_1989a20442400aaa=function(){return T((function(e){return x(i(e).next())}),arguments)},t.wbg.__wbg_done_bc26bf4ada718266=function(e){return i(e).done},t.wbg.__wbg_value_0570714ff7d75f35=function(e){return x(i(e).value)},t.wbg.__wbindgen_error_new=function(e,t){return x(new Error(y(e,t)))},t.wbg.__wbg_new_feb65b865d980ae2=function(e,t){try{var n={a:e,b:t};const o=new Promise(((e,t)=>{const o=n.a;n.a=0;try{return function(e,t,n,o){r.__wbindgen_export_6(e,t,x(n),x(o))}(o,n.b,e,t)}finally{n.a=o}}));return x(o)}finally{n.a=n.b=0}},t.wbg.__wbg_new_c728d68b8b34487e=function(){return x(new Object)},t.wbg.__wbindgen_number_new=function(e){return x(e)},t.wbg.__wbg_set_20cbc34131e76824=function(e,t,n){i(e)[_(t)]=_(n)},t.wbg.__wbg_new_08236689f0afb357=function(){return x(new Array)},t.wbg.__wbg_set_0ac78a2bc07da03c=function(e,t,n){i(e)[t>>>0]=_(n)},t.wbg.__wbindgen_string_new=function(e,t){return x(y(e,t))},t.wbg.__wbg_new_abda76e883ba8a5f=function(){return x(new Error)},t.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const n=p(i(t).stack,r.__wbindgen_export_0,r.__wbindgen_export_1),o=b;f()[e/4+1]=o,f()[e/4+0]=n},t.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let n,o;try{n=e,o=t,console.error(y(e,t))}finally{r.__wbindgen_export_4(n,o,1)}},t.wbg.__wbg_crypto_c48a774b022d20ac=function(e){return x(i(e).crypto)},t.wbg.__wbg_process_298734cf255a885d=function(e){return x(i(e).process)},t.wbg.__wbg_versions_e2e78e134e3e5d01=function(e){return x(i(e).versions)},t.wbg.__wbg_node_1cd7a5d853dbea79=function(e){return x(i(e).node)},t.wbg.__wbg_msCrypto_bcb970640f50a1e8=function(e){return x(i(e).msCrypto)},t.wbg.__wbg_newwithlength_13b5319ab422dcf6=function(e){return x(new Uint8Array(e>>>0))},t.wbg.__wbg_require_8f08ceecec0f4fee=function(){return T((function(){return x(e.require)}),arguments)},t.wbg.__wbindgen_memory=function(){return x(r.memory)},t.wbg.__wbg_buffer_344d9b41efe96da7=function(e){return x(i(e).buffer)},t.wbg.__wbg_newwithbyteoffsetandlength_2dc04d99088b15e3=function(e,t,n){return x(new Uint8Array(i(e),t>>>0,n>>>0))},t.wbg.__wbg_randomFillSync_dc1e9a60c158336d=function(){return T((function(e,t){i(e).randomFillSync(_(t))}),arguments)},t.wbg.__wbg_subarray_6ca5cfa7fbb9abbe=function(e,t,n){return x(i(e).subarray(t>>>0,n>>>0))},t.wbg.__wbg_getRandomValues_37fa2ca9e4e07fab=function(){return T((function(e,t){i(e).getRandomValues(i(t))}),arguments)},t.wbg.__wbg_new_d8a000788389a31e=function(e){return x(new Uint8Array(i(e)))},t.wbg.__wbg_set_dcfd613a3420f908=function(e,t,n){i(e).set(i(t),n>>>0)},t.wbg.__wbg_now_0cfdc90c97d0c24b=function(e){return i(e).now()},t.wbg.__wbg_self_3fad056edded10bd=function(){return T((function(){return x(self.self)}),arguments)},t.wbg.__wbg_window_a4f46c98a61d4089=function(){return T((function(){return x(window.window)}),arguments)},t.wbg.__wbg_globalThis_17eff828815f7d84=function(){return T((function(){return x(globalThis.globalThis)}),arguments)},t.wbg.__wbg_global_46f939f6541643c5=function(){return T((function(){return x(n.g.global)}),arguments)},t.wbg.__wbg_newnoargs_ccdcae30fd002262=function(e,t){return x(new Function(y(e,t)))},t.wbg.__wbindgen_object_clone_ref=function(e){return x(i(e))},t.wbg.__wbg_length_a5587d6cd79ab197=function(e){return i(e).length},t.wbg.__wbg_instanceof_Uint8Array_19e6f142a5e7e1e1=function(e){let t;try{t=i(e)instanceof Uint8Array}catch(n){t=!1}return t},t.wbg.__wbg_instanceof_ArrayBuffer_c7cc317e5c29cc0d=function(e){let t;try{t=i(e)instanceof ArrayBuffer}catch(n){t=!1}return t},t.wbg.__wbindgen_throw=function(e,t){throw new Error(y(e,t))},t.wbg.__wbg_then_1bbc9edafd859b06=function(e,t,n){return x(i(e).then(i(t),i(n)))},t.wbg.__wbindgen_cb_drop=function(e){const t=_(e).original;if(1==t.cnt--)return t.a=0,!0;return!1},t.wbg.__wbg_queueMicrotask_2be8b97a81fe4d00=function(e){return x(i(e).queueMicrotask)},t.wbg.__wbg_resolve_a3252b2860f0a09e=function(e){return x(Promise.resolve(i(e)))},t.wbg.__wbg_then_89e1c559530b85cf=function(e,t){return x(i(e).then(i(t)))},t.wbg.__wbg_queueMicrotask_e5949c35d772a669=function(e){queueMicrotask(i(e))},t.wbg.__wbg_set_40f7786a25a9cc7e=function(){return T((function(e,t,n){return Reflect.set(i(e),i(t),i(n))}),arguments)},t.wbg.__wbg_debug_9a6b3243fbbebb61=function(e){console.debug(i(e))},t.wbg.__wbg_error_788ae33f81d3b84b=function(e){console.error(i(e))},t.wbg.__wbg_info_2e30e8204b29d91d=function(e){console.info(i(e))},t.wbg.__wbg_log_1d3ae0273d8f4f8a=function(e){console.log(i(e))},t.wbg.__wbg_warn_d60e832f9882c1b2=function(e){console.warn(i(e))},t.wbg.__wbg_performance_e5eb61626698b7a4=function(e){return x(i(e).performance)},t.wbg.__wbg_now_928014da6271b17c=function(e){return i(e).now()},t.wbg.__wbg_instanceof_GpuAdapter_c0a5a310603ba618=function(e){let t;try{t=i(e)instanceof GPUAdapter}catch(n){t=!1}return t},t.wbg.__wbg_queue_f2aeb5c277e56f93=function(e){return x(i(e).queue)},t.wbg.__wbg_has_8720889cf3ad610c=function(e,t,n){return i(e).has(y(t,n))},t.wbg.__wbg_maxTextureDimension1D_4d1ddb46ed9dc470=function(e){return i(e).maxTextureDimension1D},t.wbg.__wbg_maxTextureDimension2D_37a46e61490c8297=function(e){return i(e).maxTextureDimension2D},t.wbg.__wbg_maxTextureDimension3D_7e3a97204d211743=function(e){return i(e).maxTextureDimension3D},t.wbg.__wbg_maxTextureArrayLayers_fee4db585706a5eb=function(e){return i(e).maxTextureArrayLayers},t.wbg.__wbg_maxBindGroups_dc8a5f97ba653c91=function(e){return i(e).maxBindGroups},t.wbg.__wbg_maxBindingsPerBindGroup_3d5ab311420be5df=function(e){return i(e).maxBindingsPerBindGroup},t.wbg.__wbg_maxDynamicUniformBuffersPerPipelineLayout_6b839b7dc97f34f0=function(e){return i(e).maxDynamicUniformBuffersPerPipelineLayout},t.wbg.__wbg_maxDynamicStorageBuffersPerPipelineLayout_5328cd2b9d884831=function(e){return i(e).maxDynamicStorageBuffersPerPipelineLayout},t.wbg.__wbg_maxSampledTexturesPerShaderStage_ac006b00cf776b4a=function(e){return i(e).maxSampledTexturesPerShaderStage},t.wbg.__wbg_maxSamplersPerShaderStage_dc092d6a272be20a=function(e){return i(e).maxSamplersPerShaderStage},t.wbg.__wbg_maxStorageBuffersPerShaderStage_dc5b58734b9ab932=function(e){return i(e).maxStorageBuffersPerShaderStage},t.wbg.__wbg_maxStorageTexturesPerShaderStage_2fec939cb0d5bbfd=function(e){return i(e).maxStorageTexturesPerShaderStage},t.wbg.__wbg_maxUniformBuffersPerShaderStage_b30d53cbf89caeae=function(e){return i(e).maxUniformBuffersPerShaderStage},t.wbg.__wbg_maxUniformBufferBindingSize_eec576e1342504b5=function(e){return i(e).maxUniformBufferBindingSize},t.wbg.__wbg_maxStorageBufferBindingSize_1ef0cc5e43dad09b=function(e){return i(e).maxStorageBufferBindingSize},t.wbg.__wbg_maxVertexBuffers_b4d31be9e3f93990=function(e){return i(e).maxVertexBuffers},t.wbg.__wbg_maxBufferSize_2d8398a691b9a8ce=function(e){return i(e).maxBufferSize},t.wbg.__wbg_maxVertexAttributes_904c5eb19a6f6c65=function(e){return i(e).maxVertexAttributes},t.wbg.__wbg_maxVertexBufferArrayStride_6800975c373d83bc=function(e){return i(e).maxVertexBufferArrayStride},t.wbg.__wbg_minUniformBufferOffsetAlignment_3af8c32faa30c5d8=function(e){return i(e).minUniformBufferOffsetAlignment},t.wbg.__wbg_minStorageBufferOffsetAlignment_766ef8ea8f9fe6e1=function(e){return i(e).minStorageBufferOffsetAlignment},t.wbg.__wbg_maxInterStageShaderComponents_b9f179b1cde06d08=function(e){return i(e).maxInterStageShaderComponents},t.wbg.__wbg_maxComputeWorkgroupStorageSize_9318e498283b79fb=function(e){return i(e).maxComputeWorkgroupStorageSize},t.wbg.__wbg_maxComputeInvocationsPerWorkgroup_2bfea723194ac5a0=function(e){return i(e).maxComputeInvocationsPerWorkgroup},t.wbg.__wbg_maxComputeWorkgroupSizeX_91fc9ba04de4148f=function(e){return i(e).maxComputeWorkgroupSizeX},t.wbg.__wbg_maxComputeWorkgroupSizeY_9052627dce4a7d1f=function(e){return i(e).maxComputeWorkgroupSizeY},t.wbg.__wbg_maxComputeWorkgroupSizeZ_45a1a82f8446a750=function(e){return i(e).maxComputeWorkgroupSizeZ},t.wbg.__wbg_maxComputeWorkgroupsPerDimension_100ee7392cc04c20=function(e){return i(e).maxComputeWorkgroupsPerDimension},t.wbg.__wbg_push_fd3233d09cf81821=function(e,t){return i(e).push(i(t))},t.wbg.__wbg_createRenderPipeline_745f00bcb1ca6edf=function(e,t){return x(i(e).createRenderPipeline(i(t)))},t.wbg.__wbg_error_f85e77a2651e41dc=function(e){return x(i(e).error)},t.wbg.__wbg_valueOf_10fedcc86f3d8ddc=function(e){return x(i(e).valueOf())},t.wbg.__wbg_instanceof_GpuValidationError_af2aa2e306669317=function(e){let t;try{t=i(e)instanceof GPUValidationError}catch(n){t=!1}return t},t.wbg.__wbg_message_c934153af8567cdb=function(e,t){const n=p(i(t).message,r.__wbindgen_export_0,r.__wbindgen_export_1),o=b;f()[e/4+1]=o,f()[e/4+0]=n},t.wbg.__wbg_instanceof_GpuOutOfMemoryError_45166ef4e2774fbe=function(e){let t;try{t=i(e)instanceof GPUOutOfMemoryError}catch(n){t=!1}return t},t.wbg.__wbg_instanceof_Object_3c95bd459efa5c3c=function(e){let t;try{t=i(e)instanceof Object}catch(n){t=!1}return t},t.wbg.__wbg_buffer_b334b57bee6f611b=function(e){return x(i(e).buffer)},t.wbg.__wbg_writeBuffer_becf0c8f0323ffd7=function(e,t,n,r,o,a){i(e).writeBuffer(i(t),n,i(r),o,a)},t.wbg.__wbg_instanceof_Window_9029196b662bc42a=function(e){let t;try{t=i(e)instanceof Window}catch(n){t=!1}return t},t.wbg.__wbg_document_f7ace2b956f30a4f=function(e){const t=i(e).document;return u(t)?0:x(t)},t.wbg.__wbg_querySelectorAll_c03e8664a5a0f0c5=function(){return T((function(e,t,n){return x(i(e).querySelectorAll(y(t,n)))}),arguments)},t.wbg.__wbg_get_c77649dd3862b63a=function(e,t){const n=i(e)[t>>>0];return u(n)?0:x(n)},t.wbg.__wbg_getContext_7c5944ea807bf5d3=function(){return T((function(e,t,n){const r=i(e).getContext(y(t,n));return u(r)?0:x(r)}),arguments)},t.wbg.__wbg_instanceof_GpuCanvasContext_7a77e275c38d41d8=function(e){let t;try{t=i(e)instanceof GPUCanvasContext}catch(n){t=!1}return t},t.wbg.__wbg_requestAdapter_d8298d7a27a391f0=function(e,t){return x(i(e).requestAdapter(i(t)))},t.wbg.__wbg_requestDevice_068e794820eb88eb=function(e,t){return x(i(e).requestDevice(i(t)))},t.wbg.__wbg_features_88901f43932fb28e=function(e){return x(i(e).features)},t.wbg.__wbg_limits_a7f3fbf58768b61f=function(e){return x(i(e).limits)},t.wbg.__wbg_getPreferredCanvasFormat_1f6c9ef810196b92=function(e){return x(i(e).getPreferredCanvasFormat())},t.wbg.__wbg_setwidth_a667a942dba6656e=function(e,t){i(e).width=t>>>0},t.wbg.__wbg_setheight_a747d440760fe5aa=function(e,t){i(e).height=t>>>0},t.wbg.__wbg_setwidth_15266a5e81f43cf0=function(e,t){i(e).width=t>>>0},t.wbg.__wbg_setheight_2e9bab573f1775a6=function(e,t){i(e).height=t>>>0},t.wbg.__wbg_configure_93a57a4e5e0f8bcf=function(e,t){i(e).configure(i(t))},t.wbg.__wbg_getCurrentTexture_ecedc4f6f71990d2=function(e){return x(i(e).getCurrentTexture())},t.wbg.__wbg_features_dfb2178c91fa1dd7=function(e){return x(i(e).features)},t.wbg.__wbg_limits_45ceb777867eb768=function(e){return x(i(e).limits)},t.wbg.__wbg_createShaderModule_59bbf537b8b5cf7c=function(e,t){return x(i(e).createShaderModule(i(t)))},t.wbg.__wbg_createBindGroupLayout_af3b9d9ee0a1f5f9=function(e,t){return x(i(e).createBindGroupLayout(i(t)))},t.wbg.__wbg_createBindGroup_fa5515d52f9c6a69=function(e,t){return x(i(e).createBindGroup(i(t)))},t.wbg.__wbg_createPipelineLayout_1e10c8281fb85c01=function(e,t){return x(i(e).createPipelineLayout(i(t)))},t.wbg.__wbg_createComputePipeline_89131452dfd12672=function(e,t){return x(i(e).createComputePipeline(i(t)))},t.wbg.__wbg_createBuffer_36e159f52cc644a7=function(e,t){return x(i(e).createBuffer(i(t)))},t.wbg.__wbg_createTexture_dbd00b550944125c=function(e,t){return x(i(e).createTexture(i(t)))},t.wbg.__wbg_createSampler_09cd36835c9befb3=function(e,t){return x(i(e).createSampler(i(t)))},t.wbg.__wbg_createQuerySet_ccb746122176f8e5=function(e,t){return x(i(e).createQuerySet(i(t)))},t.wbg.__wbg_createCommandEncoder_a50a1dab2b499b95=function(e,t){return x(i(e).createCommandEncoder(i(t)))},t.wbg.__wbg_createRenderBundleEncoder_ad2d0237f581427b=function(e,t){return x(i(e).createRenderBundleEncoder(i(t)))},t.wbg.__wbg_destroy_abb6deaa6cb27aa3=function(e){i(e).destroy()},t.wbg.__wbg_setonuncapturederror_b3c814f611d5e585=function(e,t){i(e).onuncapturederror=i(t)},t.wbg.__wbg_pushErrorScope_0728aae3f2d3ed48=function(e,t){i(e).pushErrorScope(_(t))},t.wbg.__wbg_popErrorScope_19075fb98a08b740=function(e){return x(i(e).popErrorScope())},t.wbg.__wbg_mapAsync_91acdcf41b7ae21d=function(e,t,n,r){return x(i(e).mapAsync(t>>>0,n,r))},t.wbg.__wbg_getMappedRange_becef7e3d9dc5489=function(e,t,n){return x(i(e).getMappedRange(t,n))},t.wbg.__wbg_unmap_1677c09514e08e64=function(e){i(e).unmap()},t.wbg.__wbg_createView_3e46af1f54fdcd1f=function(e,t){return x(i(e).createView(i(t)))},t.wbg.__wbg_destroy_9b5398e5b148e210=function(e){i(e).destroy()},t.wbg.__wbg_destroy_728f676d96e34538=function(e){i(e).destroy()},t.wbg.__wbg_getBindGroupLayout_20dc45d52b96fa42=function(e,t){return x(i(e).getBindGroupLayout(t>>>0))},t.wbg.__wbg_getBindGroupLayout_dfc1b97f78c04beb=function(e,t){return x(i(e).getBindGroupLayout(t>>>0))},t.wbg.__wbg_copyBufferToBuffer_79ac12f409453cf0=function(e,t,n,r,o,a){i(e).copyBufferToBuffer(i(t),n,i(r),o,a)},t.wbg.__wbg_copyBufferToTexture_ac956e6d47c24e73=function(e,t,n,r){i(e).copyBufferToTexture(i(t),i(n),i(r))},t.wbg.__wbg_copyTextureToBuffer_787ec8d8c4c216f1=function(e,t,n,r){i(e).copyTextureToBuffer(i(t),i(n),i(r))},t.wbg.__wbg_copyTextureToTexture_a86e849469b0ef38=function(e,t,n,r){i(e).copyTextureToTexture(i(t),i(n),i(r))},t.wbg.__wbg_beginComputePass_579a2563c561da68=function(e,t){return x(i(e).beginComputePass(i(t)))},t.wbg.__wbg_end_dab719019df5969c=function(e){i(e).end()},t.wbg.__wbg_beginRenderPass_d04327f7231bd5af=function(e,t){return x(i(e).beginRenderPass(i(t)))},t.wbg.__wbg_end_bdfb66792e0c59a2=function(e){i(e).end()},t.wbg.__wbg_label_c7970304720cf8b0=function(e,t){const n=p(i(t).label,r.__wbindgen_export_0,r.__wbindgen_export_1),o=b;f()[e/4+1]=o,f()[e/4+0]=n},t.wbg.__wbg_finish_d1049a13335e8326=function(e,t){return x(i(e).finish(i(t)))},t.wbg.__wbg_finish_5153789564a5eee5=function(e){return x(i(e).finish())},t.wbg.__wbg_clearBuffer_c370e7adb8398388=function(e,t,n){i(e).clearBuffer(i(t),n)},t.wbg.__wbg_clearBuffer_b8e6751290709d43=function(e,t,n,r){i(e).clearBuffer(i(t),n,r)},t.wbg.__wbg_writeTimestamp_107647519ce52436=function(e,t,n){i(e).writeTimestamp(i(t),n>>>0)},t.wbg.__wbg_resolveQuerySet_8ac49c71e15cdf6a=function(e,t,n,r,o,a){i(e).resolveQuerySet(i(t),n>>>0,r>>>0,i(o),a>>>0)},t.wbg.__wbg_finish_863657abae52896e=function(e){return x(i(e).finish())},t.wbg.__wbg_finish_e580ef236d53f04b=function(e,t){return x(i(e).finish(i(t)))},t.wbg.__wbg_usage_f5b34f3e0170424b=function(e){return i(e).usage},t.wbg.__wbg_size_6540ddb49e0d7120=function(e){return i(e).size},t.wbg.__wbg_writeTexture_465ecc6146e5052c=function(e,t,n,r,o){i(e).writeTexture(i(t),i(n),i(r),i(o))},t.wbg.__wbg_copyExternalImageToTexture_819ec294d299f624=function(e,t,n,r){i(e).copyExternalImageToTexture(i(t),i(n),i(r))},t.wbg.__wbg_submit_3104e9b014f75846=function(e,t){i(e).submit(i(t))},t.wbg.__wbg_setPipeline_598117fdeb73cf8f=function(e,t){i(e).setPipeline(i(t))},t.wbg.__wbg_setBindGroup_c619f49c16ef095b=function(e,t,n){i(e).setBindGroup(t>>>0,i(n))},t.wbg.__wbg_setBindGroup_dffce83253968cdd=function(e,t,n,r,o,a,_){i(e).setBindGroup(t>>>0,i(n),k(r,o),a,_>>>0)},t.wbg.__wbg_dispatchWorkgroups_c484cd3530a3801d=function(e,t,n,r){i(e).dispatchWorkgroups(t>>>0,n>>>0,r>>>0)},t.wbg.__wbg_dispatchWorkgroupsIndirect_2b89ee1731fab5f8=function(e,t,n){i(e).dispatchWorkgroupsIndirect(i(t),n)},t.wbg.__wbg_setPipeline_66f1e900256fc946=function(e,t){i(e).setPipeline(i(t))},t.wbg.__wbg_setBindGroup_e6d2dd2ab3573b6d=function(e,t,n){i(e).setBindGroup(t>>>0,i(n))},t.wbg.__wbg_setBindGroup_6bc8944422dbb3cd=function(e,t,n,r,o,a,_){i(e).setBindGroup(t>>>0,i(n),k(r,o),a,_>>>0)},t.wbg.__wbg_setIndexBuffer_4dc5432dc348458d=function(e,t,n,r){i(e).setIndexBuffer(i(t),_(n),r)},t.wbg.__wbg_setIndexBuffer_f3bae4da9e407eaf=function(e,t,n,r,o){i(e).setIndexBuffer(i(t),_(n),r,o)},t.wbg.__wbg_setVertexBuffer_c782d133fd439184=function(e,t,n,r){i(e).setVertexBuffer(t>>>0,i(n),r)},t.wbg.__wbg_setVertexBuffer_4da0a96267ce82db=function(e,t,n,r,o){i(e).setVertexBuffer(t>>>0,i(n),r,o)},t.wbg.__wbg_draw_3958097471a10642=function(e,t,n,r,o){i(e).draw(t>>>0,n>>>0,r>>>0,o>>>0)},t.wbg.__wbg_drawIndexed_8856cc4ccffa3498=function(e,t,n,r,o,a){i(e).drawIndexed(t>>>0,n>>>0,r>>>0,o,a>>>0)},t.wbg.__wbg_drawIndirect_95c6eb1494a44d06=function(e,t,n){i(e).drawIndirect(i(t),n)},t.wbg.__wbg_drawIndexedIndirect_0404fa6cb9a6db25=function(e,t,n){i(e).drawIndexedIndirect(i(t),n)},t.wbg.__wbg_setPipeline_18ce556bdea62cc5=function(e,t){i(e).setPipeline(i(t))},t.wbg.__wbg_setBindGroup_ed098a3302f084a7=function(e,t,n){i(e).setBindGroup(t>>>0,i(n))},t.wbg.__wbg_setBindGroup_ce4432036922cd83=function(e,t,n,r,o,a,_){i(e).setBindGroup(t>>>0,i(n),k(r,o),a,_>>>0)},t.wbg.__wbg_setIndexBuffer_1f4a86d1cc8c16d9=function(e,t,n,r){i(e).setIndexBuffer(i(t),_(n),r)},t.wbg.__wbg_setIndexBuffer_9f8493460611f96b=function(e,t,n,r,o){i(e).setIndexBuffer(i(t),_(n),r,o)},t.wbg.__wbg_setVertexBuffer_2a2c84d65c1063f9=function(e,t,n,r){i(e).setVertexBuffer(t>>>0,i(n),r)},t.wbg.__wbg_setVertexBuffer_176c2dff823c42c1=function(e,t,n,r,o){i(e).setVertexBuffer(t>>>0,i(n),r,o)},t.wbg.__wbg_draw_6357a5fbc8a6b097=function(e,t,n,r,o){i(e).draw(t>>>0,n>>>0,r>>>0,o>>>0)},t.wbg.__wbg_drawIndexed_5d1dd89d7375148c=function(e,t,n,r,o,a){i(e).drawIndexed(t>>>0,n>>>0,r>>>0,o,a>>>0)},t.wbg.__wbg_drawIndirect_8dd595dc622e21ac=function(e,t,n){i(e).drawIndirect(i(t),n)},t.wbg.__wbg_drawIndexedIndirect_526599171cfbbee5=function(e,t,n){i(e).drawIndexedIndirect(i(t),n)},t.wbg.__wbg_setBlendConstant_e89574db5137b2f6=function(e,t){i(e).setBlendConstant(i(t))},t.wbg.__wbg_setScissorRect_0af8c89e90a6e89c=function(e,t,n,r,o){i(e).setScissorRect(t>>>0,n>>>0,r>>>0,o>>>0)},t.wbg.__wbg_setViewport_9c5fb686baf1cf4f=function(e,t,n,r,o,a,_){i(e).setViewport(t,n,r,o,a,_)},t.wbg.__wbg_setStencilReference_71be0db67db2f7ab=function(e,t){i(e).setStencilReference(t>>>0)},t.wbg.__wbg_executeBundles_0a1fdfd83c1a3e57=function(e,t){i(e).executeBundles(i(t))},t.wbg.__wbindgen_closure_wrapper4194=function(e,t,n){return x(v(e,t,284,S))},t.wbg.__wbindgen_closure_wrapper5122=function(e,t,n){return x(v(e,t,284,S))},t.wbg.__wbindgen_closure_wrapper5129=function(e,t,n){return x(v(e,t,284,S))},t}function M(e,t){return r=e.exports,C.__wbindgen_wasm_module=t,c=null,s=null,B=null,g=null,r.__wbindgen_start(),r}async function C(e){if(void 0!==r)return r;"undefined"===typeof e&&(e=new URL(n(911),n.b));const t=O();("string"===typeof e||"function"===typeof Request&&e instanceof Request||"function"===typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:o,module:i}=await async function(e,t){if("function"===typeof Response&&e instanceof Response){if("function"===typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return M(o,i)}const R=C},373:(e,t,n)=>{"use strict";n.d(t,{p:()=>c});const r=Symbol("Comlink.proxy"),o=Symbol("Comlink.endpoint"),i=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.thrown"),_=e=>"object"===typeof e&&null!==e||"function"===typeof e,u=new Map([["proxy",{canHandle:e=>_(e)&&e[r],serialize(e){const{port1:t,port2:n}=new MessageChannel;return c(e,t),[n,[n]]},deserialize(e){return e.start(),b(e,[],t);var t}}],["throw",{canHandle:e=>_(e)&&a in e,serialize(e){let t,{value:n}=e;return t=n instanceof Error?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;t.addEventListener("message",(function n(o){if(!o||!o.data)return;const{id:i,type:_,path:u}=Object.assign({path:[]},o.data),f=(o.data.argumentList||[]).map(l);let b;try{const t=u.slice(0,-1).reduce(((e,t)=>e[t]),e),n=u.reduce(((e,t)=>e[t]),e);switch(_){case"GET":b=n;break;case"SET":t[u.slice(-1)[0]]=l(o.data.value),b=!0;break;case"APPLY":b=n.apply(t,f);break;case"CONSTRUCT":b=function(e){return Object.assign(e,{[r]:!0})}(new n(...f));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;c(e,n),b=function(e,t){return d.set(e,t),e}(t,[t])}break;case"RELEASE":b=void 0;break;default:return}}catch(g){b={value:g,[a]:0}}Promise.resolve(b).catch((e=>({value:e,[a]:0}))).then((e=>{const[r,o]=w(e);t.postMessage(Object.assign(Object.assign({},r),{id:i}),o),"RELEASE"===_&&(t.removeEventListener("message",n),s(t))}))})),t.start&&t.start()}function s(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function f(e){if(e)throw new Error("Proxy has been released and is not useable")}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1;const r=new Proxy(arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},{get(o,a){if(f(n),a===i)return()=>p(e,{type:"RELEASE",path:t.map((e=>e.toString()))}).then((()=>{s(e),n=!0}));if("then"===a){if(0===t.length)return{then:()=>r};const n=p(e,{type:"GET",path:t.map((e=>e.toString()))}).then(l);return n.then.bind(n)}return b(e,[...t,a])},set(r,o,i){f(n);const[a,_]=w(i);return p(e,{type:"SET",path:[...t,o].map((e=>e.toString())),value:a},_).then(l)},apply(r,i,a){f(n);const _=t[t.length-1];if(_===o)return p(e,{type:"ENDPOINT"}).then(l);if("bind"===_)return b(e,t.slice(0,-1));const[u,c]=g(a);return p(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:u},c).then(l)},construct(r,o){f(n);const[i,a]=g(o);return p(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:i},a).then(l)}});return r}function g(e){const t=e.map(w);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const d=new WeakMap;function w(e){for(const[t,n]of u)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},o]}return[{type:"RAW",value:e},d.get(e)||[]]}function l(e){switch(e.type){case"HANDLER":return u.get(e.name).deserialize(e.value);case"RAW":return e.value}}function p(e,t,n){return new Promise((r=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===o&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)}))}},436:(e,t,n)=>{"use strict";n.d(t,{Q7:()=>c});const r=e=>"undefined"===typeof e||null===e;function o(e){if(function(e,t){return"object"===typeof e&&null!==e&&t in e}(e,"toString")&&"function"===typeof e.toString){const t=e.toString();return"string"===typeof t?t:JSON.stringify(e)}return JSON.stringify(e)}const i=Object.create(null),a="Ok",_="Err";class u{constructor(e){this.repr=e}static ok(e){return r(e)?new u(["Ok",i]):new u(["Ok",e])}static err(e){return r(e)?new u(["Err",i]):new u(["Err",e])}get variant(){return this.repr[0]}get value(){if(this.repr[0]===_)throw new Error("Cannot get the value of Err");return this.repr[1]}get error(){if(this.repr[0]===a)throw new Error("Cannot get the error of Ok");return this.repr[1]}get isOk(){return this.repr[0]===a}get isErr(){return this.repr[0]===_}map(e){return"Ok"===this.repr[0]?c.ok(e(this.repr[1])):this}mapOr(e,t){return"Ok"===this.repr[0]?t(this.repr[1]):e}mapOrElse(e,t){return"Ok"===this.repr[0]?t(this.repr[1]):e(this.repr[1])}match(e){return"Ok"===this.repr[0]?e.Ok(this.repr[1]):e.Err(this.repr[1])}mapErr(e){return"Ok"===this.repr[0]?this:c.err(e(this.repr[1]))}or(e){return"Ok"===this.repr[0]?this:e}orElse(e){return"Ok"===this.repr[0]?this:e(this.repr[1])}and(e){return"Ok"===this.repr[0]?e:this}andThen(e){return"Ok"===this.repr[0]?e(this.repr[1]):this}unwrapOr(e){return"Ok"===this.repr[0]?this.repr[1]:e}unwrapOrElse(e){return"Ok"===this.repr[0]?this.repr[1]:e(this.repr[1])}toString(){return`${this.repr[0]}(${o(this.repr[1])})`}toJSON(){const e=this.repr[0];return"Ok"===e?{variant:e,value:this.repr[1]}:{variant:e,error:this.repr[1]}}equals(e){return this.repr[0]===e.repr[0]&&this.repr[1]===e.repr[1]}ap(e){return e.andThen((e=>this.map((t=>t(e)))))}}const c=u},790:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var o=this._errors[r],i=o.message,a=(e[i]||0)+1;e[i]=a,a>=n&&(t=o,n=a)}return t}},911:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/whisper-wasm_bg.45ee36516d266b9f776f.wasm"},944:(e,t,n)=>{var r=n(790);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],o=0;o<t.retries;o++)r.push(this.createTimeout(o,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(o,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var o in r=[],e)"function"===typeof e[o]&&r.push(o);for(var i=0;i<r.length;i++){var a=r[i],_=e[a];e[a]=function(r){var o=t.operation(n),i=Array.prototype.slice.call(arguments,1),a=i.pop();i.push((function(e){o.retry(e)||(e&&(arguments[0]=o.mainError()),a.apply(this,arguments))})),o.attempt((function(){r.apply(e,i)}))}.bind(e,_),e[a].options=n}}},964:(e,t,n)=>{"use strict";n.d(t,{Kx:()=>a});var r,o=n(436),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function _(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,_)}u((r=r.apply(e,t||[])).next())}))};!function(e){e.WHISPER_TINY="tiny",e.WHISPER_BASE="base",e.WHISPER_SMALL="small",e.WHISPER_MEDIUM="medium",e.WHISPER_LARGE="large"}(r||(r={}));new Map([[r.WHISPER_TINY,51444634],[r.WHISPER_BASE,96834130],[r.WHISPER_SMALL,313018088],[r.WHISPER_MEDIUM,972263884],[r.WHISPER_LARGE,1954315876]]);class a{constructor(e,t,n){this.name=e,this.data=t,this.tokenizer=n}static fromDBModel(e,t){return i(this,void 0,void 0,(function*(){const n=yield t.getTokenizer(e.ID);if(n.isErr)return o.Q7.err(n.error);const r=n.value.bytes;return o.Q7.ok(new a(e.name,e.bytes,r))}))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/chat-pwa/",n.b=self.location+"/../../../",(()=>{"use strict";var e=n(312),t=n(373),r=n(436),o=n(964);const i=(e,t)=>t.some((t=>e instanceof t));let a,_;const u=new WeakMap,c=new WeakMap,s=new WeakMap,f=new WeakMap,b=new WeakMap;let g={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||s.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){g=e(g)}function w(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_||(_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(h(this),n),p(u.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(e.apply(h(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(h(this),t,...r);return s.set(i,t.sort?t.sort():[t]),p(i)}}function l(e){return"function"===typeof e?w(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));c.set(e,t)}(e),i(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,g):e)}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(p(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&u.set(t,e)})).catch((()=>{})),b.set(t,e),t}(e);if(f.has(e))return f.get(e);const t=l(e);return t!==e&&(f.set(e,t),b.set(t,e)),t}const h=e=>b.get(e);const m=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],x=new Map;function v(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!m.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,_=new Array(a>1?a-1:0),u=1;u<a;u++)_[u-1]=arguments[u];return r&&(i=i.index(_.shift())),(await Promise.all([i[n](..._),o&&t.done]))[0]};return x.set(t,i),i}d((e=>({...e,get:(t,n,r)=>v(t,n)||e.get(t,n,r),has:(t,n)=>!!v(t,n)||e.has(t,n)})));const S=["continue","continuePrimaryKey","advance"],E={},T=new WeakMap,B=new WeakMap,I={get(e,t){if(!S.includes(t))return e[t];let n=E[t];return n||(n=E[t]=function(){T.set(this,B.get(this)[t](...arguments))}),n}};async function*k(){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...arguments)),!e)return;const t=new Proxy(e,I);for(B.set(t,e),b.set(t,h(e));e;)yield t,e=await(T.get(t)||e.continue()),T.delete(t)}function P(e,t){return t===Symbol.asyncIterator&&i(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&i(e,[IDBIndex,IDBObjectStore])}d((e=>({...e,get:(t,n,r)=>P(t,n)?k:e.get(t,n,r),has:(t,n)=>P(t,n)||e.has(t,n)})));const A={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let D;const O=new Uint8Array(16);function M(){if(!D&&(D="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!D))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return D(O)}const C=[];for(let n=0;n<256;++n)C.push((n+256).toString(16).slice(1));function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return C[e[t+0]]+C[e[t+1]]+C[e[t+2]]+C[e[t+3]]+"-"+C[e[t+4]]+C[e[t+5]]+"-"+C[e[t+6]]+C[e[t+7]]+"-"+C[e[t+8]]+C[e[t+9]]+"-"+C[e[t+10]]+C[e[t+11]]+C[e[t+12]]+C[e[t+13]]+C[e[t+14]]+C[e[t+15]]}const L=function(e,t,n){if(A.randomUUID&&!t&&!e)return A.randomUUID();const r=(e=e||{}).random||(e.rng||M)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return R(r)};var j=n(302);const W=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);class z extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const U=e=>void 0===globalThis.DOMException?new Error(e):new DOMException(e);async function G(e,t){return new Promise(((n,r)=>{t={onFailedAttempt(){},retries:10,...t};const o=j.operation(t);o.attempt((async i=>{try{n(await e(i))}catch(_){if(!(_ instanceof Error))return void r(new TypeError(`Non-error was thrown: "${_}". You should only throw errors.`));if(_ instanceof z)o.stop(),r(_.originalError);else if(_ instanceof TypeError&&(a=_.message,!W.has(a)))o.stop(),r(_);else{((e,t,n)=>{const r=n.retries-(t-1);e.attemptNumber=t,e.retriesLeft=r})(_,i,t);try{await t.onFailedAttempt(_)}catch(_){return void r(_)}o.retry(_)||r(o.mainError())}}var a})),t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",(()=>{o.stop();const e=void 0===t.signal.reason?U("The operation was aborted."):t.signal.reason;r(e instanceof Error?e:U(e))}),{once:!0})}))}var V=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function _(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,_)}u((r=r.apply(e,t||[])).next())}))};class Q{constructor(e){this.remoteUrl="https://rmbl.us",this.db=e}static create(){return V(this,void 0,void 0,(function*(){const e=yield function(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),_=p(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(p(a.result),e.oldVersion,e.newVersion,p(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),_.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),_}("models",1,{upgrade(e){e.createObjectStore("models").createIndex("modelID","modelID"),e.createObjectStore("availableModels");e.createObjectStore("tokenizer").createIndex("modelID","modelID")}});return new Q(e)}))}fetchBytes(e,t){return V(this,void 0,void 0,(function*(){return yield G((()=>V(this,void 0,void 0,(function*(){const n=yield fetch(e);if(!n.ok)return r.Q7.err(new Error(`Fetch failed: ${n.status}`));const o=+n.headers.get("Content-Length"),i=n.body.getReader();let a=0;const _=new Uint8Array(o);for(;;){const{done:e,value:n}=yield i.read();if(e)break;_.set(n,a),a+=n.length,t&&t(a/o*100)}return r.Q7.ok(_)}))),{retries:3})}))}_getModel(e){return V(this,void 0,void 0,(function*(){if(!this.db)return r.Q7.err(new Error("ModelDB not initialized"));const t=this.db.transaction("models","readonly").objectStore("models"),n=yield t.get(e);return n?r.Q7.ok(n):r.Q7.err(new Error("Model not found"))}))}getTokenizer(e){return V(this,void 0,void 0,(function*(){if(!this.db)return r.Q7.err(new Error("ModelDB not initialized"));let t=yield this.db.getFromIndex("tokenizer","modelID",e);if(!t){const n=yield this.fetchBytes("https://huggingface.co/openai/whisper-large-v2/raw/main/tokenizer.json");if(n.isErr)return r.Q7.err(n.error);const o=n.value;t={modelID:e,bytes:o},this.db.put("tokenizer",t,e),t=yield this.db.getFromIndex("tokenizer","modelID",e)}return r.Q7.ok(t)}))}getModel(e,t){return V(this,void 0,void 0,(function*(){if(!this.db)return r.Q7.err(new Error("ModelDB not initialized"));let n=yield this.db.get("availableModels",e);return n||(yield this.fetchRemote(e,t),n=yield this.db.get("availableModels",e)),yield this._getModel(n)}))}fetchRemote(e,t){return V(this,void 0,void 0,(function*(){const n=`${this.remoteUrl}/whisper-turbo/${e}-q8g16.bin`,o=yield this.fetchBytes(n,t);if(o.isErr)return r.Q7.err(o.error);const i=o.value,a=L();this.db.put("availableModels",a,e);const _={name:e,ID:a,bytes:i};return this.db.put("models",_,a),this.getTokenizer(a),r.Q7.ok(void 0)}))}}var N=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function _(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,_)}u((r=r.apply(e,t||[])).next())}))};class q{initSession(t,n){return N(this,void 0,void 0,(function*(){if(this.whisperSession)return r.Q7.err(new Error("Session already initialized. Call `destroy()` first."));const o=yield this.loadModel(t,n);if(o.isErr)return r.Q7.err(o.error);const i=o.value;yield e.Ay();const a=new e.Qy,_=yield a.setModel(i.data).setTokenizer(i.tokenizer).build();return this.whisperSession=_,r.Q7.ok(void 0)}))}loadModel(e,t){return N(this,void 0,void 0,(function*(){const n=yield Q.create(),i=yield n.getModel(e,t);if(i.isErr)return r.Q7.err(new Error(`Failed to load model ${e} with error: ${i.error}`));const a=i.value,_=yield o.Kx.fromDBModel(a,n);if(_.isErr)return r.Q7.err(new Error(`Failed to transmute model ${e} with error: ${_.error}`));const u=_.value;return r.Q7.ok(u)}))}run(e,t){return N(this,void 0,void 0,(function*(){return this.whisperSession?r.Q7.ok(yield this.whisperSession.run(e,t)):r.Q7.err(new Error("The session is not initialized. Call `initSession()` method first."))}))}stream(e,t,n,o){return N(this,void 0,void 0,(function*(){return this.whisperSession?r.Q7.ok(yield this.whisperSession.stream(e,t,n,o)):r.Q7.err(new Error("The session is not initialized. Call `initSession()` method first."))}))}}"undefined"!==typeof self&&t.p(q)})()})();
//# sourceMappingURL=412.735641cd.chunk.js.map